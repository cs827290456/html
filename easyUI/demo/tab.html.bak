<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Full Layout - jQuery EasyUI Demo</title>
		<link rel="stylesheet" type="text/css" href="../themes/default/easyui.css">
		<link rel="stylesheet" type="text/css" href="../themes/icon.css">
		<link rel="stylesheet" type="text/css" href="demo.css">
		<script type="text/javascript" src="../jquery.min.js"></script>
		<script type="text/javascript" src="../jquery.easyui.min.js"></script>
		<script type="text/javascript" src="../easyloader.js"></script>
	</head>
	<body class="easyui-layout" style="margin: 10px;">
		<!--  -->
 		<div data-options="region:'north',split_:true,border:false" style="height:140px;padding-bottom:10px"  data-options="fit:true">
                	<div class="easyui-panel" title="查询条件" style="width:100%:" data-options="fit:true">
				        <div style="padding:10px 60px 20px 60px" data-options="fit:true">
				        <form id="ff" method="post">
				            <table cellpadding="5" style="width:100%" data-options="fit:true"> 
				                <tr>
				                    <td>Name:</td>
				                    <td><input class="easyui-textbox" type="text" name="name" data-options="required:true"></input></td>
				                
				                    <td>Email:</td>
				                    <td><input class="easyui-textbox" type="text" name="email" data-options="required:true,validType:'email'"></input></td>
				                 
				                    <td>Subject:</td>
				                    <td><input class="easyui-textbox" type="text" name="subject" data-options="required:true"></input></td>
				               
				                    <td>Message:</td>
				                    <td><input class="easyui-textbox" name="message" data-options="multiline:true" ></input></td>
				                </tr>
				                <tr>
				                    <td>Name:</td>
				                    <td><input class="easyui-textbox" type="text" name="name" data-options="required:true"></input></td>
				                
				                    <td>Email:</td>
				                    <td><input class="easyui-textbox" type="text" name="email" data-options="required:true,validType:'email'"></input></td>
				                 
				                    <td>Subject:</td>
				                    <td><input class="easyui-textbox" type="text" name="subject" data-options="required:true"></input></td>
				               
				                    <td>Message:</td>
				                    <td><input class="easyui-button" name="message" type="button" value="...item..." onclick="test()"></input></td>
				                </tr> 
				            </table>
				        </form> 
				        </div> 
				    </div>
                	<!--  -->
		</div>
		<div data-options="region:'center',border:false" style="padding-bottom:10px""> 
			<table id="dg" title="数据展示"  style="width:100%;height:700px;" data-options="
                			fit:true,
							border:true,
							fitColumns:true,
							rownumbers:true,
							singleSelect:true,
							autoRowHeight:false,
							pagination:true,
							pageSize:10">
							<thead>
								<tr>
									<th field="inv" width="80">Inv No</th>
									<th field="date" width="100">Date</th>
									<th field="name" width="80">Namedddd</th>
									<th field="amount" width="80" align="right">Amount</th>
									<th field="price" width="80" align="right">Price</th>
									<th field="cost" width="100" align="right">Cost</th>
									<th field="note" width="110">Note</th>
								</tr>
							</thead>
			</table> 
		</div>
		
		
		<div id="w13" class="easyui-window" title="Modal Window" data-options="modal:true,closed:true,iconCls:'icon-save'" style="width:500px;height:200px;padding:10px;">he window content.</div>
		<input type="button" value="xxxx" id="xxx" onclick="testMeth()">; 
	</body>
	
	<script>  
	
		function testMeth(){
			alert("tab.....");			
		}
	
	 
		function test(){
			//$('#w13').window('open')
// 			parent.$('#tt').tabs("add", {
// 			      title: "xxxx",
// 			      content: "====",
// 			      closable: true
// 			});
			alert("11111")
			parent.addTab("xxxx","item.html")
		} 
		//==================================== 
			
			
	
		function getData(){
			var rows = [];
			for(var i=1; i<=800; i++){
				var amount = Math.floor(Math.random()*1000);
				var price = Math.floor(Math.random()*1000);
				rows.push({
					inv: 'Inv No '+i,
					date: $.fn.datebox.defaults.formatter(new Date()),
					name: 'Name '+i,
					amount: amount,
					price: price,
					cost: amount*price,
					note: 'Note '+i
				});
			}
			return rows;
		}
		
		function pagerFilter(data){
			if (typeof data.length == 'number' && typeof data.splice == 'function'){	// is array
				data = {
					total: data.length,
					rows: data
				}
			}
			var dg = $(this);
			var opts = dg.datagrid('options');
			var pager = dg.datagrid('getPager');
			pager.pagination({
				onSelectPage:function(pageNum, pageSize){
					opts.pageNumber = pageNum;
					opts.pageSize = pageSize;
					pager.pagination('refresh',{
						pageNumber:pageNum,
						pageSize:pageSize
					});
					dg.datagrid('loadData',data);
				}
			});
			if (!data.originalRows){
				data.originalRows = (data.rows);
			}
			var start = (opts.pageNumber-1)*parseInt(opts.pageSize);
			var end = start + parseInt(opts.pageSize);
			data.rows = (data.originalRows.slice(start, end));
			return data;
		}
		
		$(function(){
			$('#dg').datagrid({loadFilter:pagerFilter}).datagrid('loadData', getData());
		});
	</script>
</html>